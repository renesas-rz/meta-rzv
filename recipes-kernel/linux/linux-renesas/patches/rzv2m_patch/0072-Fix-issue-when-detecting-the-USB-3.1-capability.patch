From 478c52ca347f030b11bb34ce445d7834369af0fc Mon Sep 17 00:00:00 2001
From: Canh Dao <canh.dao.ct@renesas.com>
Date: Thu, 25 Nov 2021 14:22:04 +0700
Subject: [PATCH] Fix issue when detecting the USB 3.1 capability

Signed-off-by: Canh Dao <canh.dao.ct@renesas.com>
---
 drivers/usb/host/xhci.c | 6 ------
 1 file changed, 6 deletions(-)

diff --git a/drivers/usb/host/xhci.c b/drivers/usb/host/xhci.c
index 0348ea8..74a798c 100644
--- a/drivers/usb/host/xhci.c
+++ b/drivers/usb/host/xhci.c
@@ -5081,13 +5081,7 @@ int xhci_gen_setup(struct usb_hcd *hcd, xhci_get_quirks_t get_quirks)
 		 * should return 0x31 for sbrn, or that the minor revision
 		 * is a two digit BCD containig minor and sub-minor numbers.
 		 * This was later clarified in xHCI 1.2.
-		 *
-		 * Some USB 3.1 capable hosts therefore have sbrn 0x30, and
-		 * minor revision set to 0x1 instead of 0x10.
 		 */
-		if (xhci->usb3_rhub.min_rev == 0x1)
-			minor_rev = 1;
-		else
 			minor_rev = xhci->usb3_rhub.min_rev / 0x10;
 
 		switch (minor_rev) {
-- 
2.7.4

