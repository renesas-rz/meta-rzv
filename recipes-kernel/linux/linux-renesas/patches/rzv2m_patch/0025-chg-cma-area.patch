From aeea79c994969a4f33386e74d4aee952801689e6 Mon Sep 17 00:00:00 2001
From: Canh Dao <canh.dao.ct@renesas.com>
Date: Mon, 13 Sep 2021 13:42:09 +0700
Subject: [PATCH] chg-cma-area

Signed-off-by: Canh Dao <canh.dao.ct@renesas.com>
---
 .../dts/renesas/r9a09g011gbg-evaluation-board.dts  | 22 +++++++---------------
 1 file changed, 7 insertions(+), 15 deletions(-)

diff --git a/arch/arm64/boot/dts/renesas/r9a09g011gbg-evaluation-board.dts b/arch/arm64/boot/dts/renesas/r9a09g011gbg-evaluation-board.dts
index 44cd059..1b3a29f 100644
--- a/arch/arm64/boot/dts/renesas/r9a09g011gbg-evaluation-board.dts
+++ b/arch/arm64/boot/dts/renesas/r9a09g011gbg-evaluation-board.dts
@@ -22,10 +22,10 @@
                stdout-path = "serial0:115200n8";
        };
 
-       memory@08000000 {
+       memory@58000000 {
                device_type = "memory";
                /* first 256MB is reserved for secure area. */
-               reg = <0x00000000 0x08000000 0x0 0x78000000>;
+               reg = <0x00000000 0x58000000 0x0 0x28000000>;
        };
 
        reserved-memory {
@@ -34,40 +34,32 @@
                ranges;
 
                /* global autoconfigured region for contiguous allocations */
-               linux,cma@18000000 {
+               linux,cma@67800000 {
                        compatible = "shared-dma-pool";
                        reusable;
-                       reg = <0x00000000 0x18000000 0x0 0x10000000>;
+                       reg = <0x0 0x67800000 0x0 0x8000000>;
                        linux,cma-default;
                };
                /* device specific region for contiguous allocations */
                drp_reserved: linux,CMAtoDRP {
                        compatible = "shared-dma-pool";
                        reusable;
-                       reg = <0x00000000 0x28000000 0x0 0x08000000>;
+                       reg = <0x0 0x6F800000 0x0 0x10000000>;
                };
 
                v4l2_reserved: v4l2-DRP_buf@0 {
                        compatible = "shared-dma-pool";
                        reusable;
-                       reg = <0x0 0x30000000 0x0 0x08000000>; //128MiB
+                       reg = <0x0 0x7F800000 0x0 0x400000>; //4MiB
                        label = "image_buf0";
                };
-#if 0
-               /* device specific region for contiguous allocations */
-               mmp_reserved: linux,multimedia {
-                       compatible = "shared-dma-pool";
-                       reusable;
-                       reg = <0x00000000 0x68000000 0x0 0x08000000>;
-               };
-#endif
        };
 
        udmabuf@0 {
                compatible = "ikwzm,udmabuf-0.10.a";
                device-name = "udmabuf0";
                minor-number = <0>;
-               size = <0x08000000>; // 128MiB
+               size = <0x400000>; // 4MiB
                dma-coherent;
                memory-region = <&v4l2_reserved>;
        };
-- 
2.7.4

